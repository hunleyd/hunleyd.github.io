<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title> - page 3 &#8211; Douglas J Hunley</title>
<meta name="description" content="Describe this nonsense.">
<meta name="keywords" content="Jekyll, theme, themes, responsive, blog, modern">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="/images/abstract-1.jpg">

<meta name="twitter:title" content=" - page 3">
<meta name="twitter:description" content="Describe this nonsense.">
<meta name="twitter:creator" content="@hunleyd">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content=" - page 3">
<meta property="og:description" content="Describe this nonsense.">
<meta property="og:url" content="/pages/3/index.html">
<meta property="og:site_name" content="Douglas J Hunley">





<link rel="canonical" href="/pages/3/">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Douglas J Hunley Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<!-- Webfonts -->
<link href="//fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">



</head>

<body id="post-index" class="feature">

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<NAV id="dl-menu" class="dl-menuwrapper" role="navigation">
  <BUTTON class="dl-trigger">
    Open Menu
  </BUTTON>
  <UL class="dl-menu">
    <LI>
      <A href="/">Home</A>
    </LI>
    <LI>
      <A href="#">About</A>
      <UL class="dl-submenu">
        <LI>
          <IMG src="/images/avatar.jpg" alt="Douglas J Hunley photo" class="author-photo" />
          <H4>Douglas J Hunley</H4>
          <P>Linux Sys Admin, Gentoo user, PostgreSQL advocate, Android fanboi, OSS supporter, PlayStation gamer</P>
        </LI>
        <LI>
          <A href="/about/"><SPAN class="btn btn-inverse">Learn More</SPAN></A>
        </LI>
        
          <LI>
            <A href="https://dhunley.deviantart.com"><I class="fa fa-deviantart" aria-hidden="true"></I> DeviantArt</A>
          </LI>
        
        
          <LI>
            <A href="mailto:douglas.hunley@gmail.com"><I class="fa fa-envelope" aria-hidden="true"></I> Email</A>
          </LI>
        
        
          <LI>
            <A href="https://facebook.com/douglas.j.hunley"><I class="fa fa-facebook" aria-hidden="true"></I> Facebook</A>
          </LI>
        
        
        
          <LI>
            <A href="https://github.com/hunleyd"><I class="fa fa-github" aria-hidden="true"></I> GitHub</A>
          </LI>
        
        
          <LI>
            <A href="https://google.com/+DouglasHunley"><I class="fa fa-google-plus" aria-hidden="true"></I> Google+</A>
          </LI>
        
        
          <LI>
            <A href="https://instagram.com/doughunley"><I class="fa fa-instagram" aria-hidden="true"></I> Instagram</A>
          </LI>
        
        
          <LI>
            <A href="https://linkedin.com/in/dhunley"><I class="fa fa-linkedin" aria-hidden="true"></I> LinkedIn</A>
          </LI>
        
        
          <LI>
            <A href="https://meetup.com/members/43608152"><I class="fa fa-meetup" aria-hidden="true"></I> MeetUp</A>
          </LI>
        
        
          <LI>
            <A href="https://reddit.com/u/hunleyd"><I class="fa fa-reddit-alien" aria-hidden="true"></I> Reddit</A>
          </LI>
        
        
        
        
          <LI>
            <A href="https://twitter.com/hunleyd"><I class="fa fa-twitter" aria-hidden="true"></I> Twitter</A>
          </LI>
        
        
          <LI>
            <A href="https://youtube.com/user/doughunley"><I class="fa fa-youtube" aria-hidden="true"></I> YouTube</A>
          </LI>
        
      </UL><!-- /.dl-submenu -->
    </LI>
    <LI>
      <A href="#">Posts</A>
      <UL class="dl-submenu">
        <LI>
          <A href="/posts/">All Posts</A>
        </LI>
        <LI>
          <A href="/tags/">All Tags</A>
        </LI>
      </UL>
    </LI>
    
  </UL><!-- /.dl-menu -->
</NAV><!-- /.dl-menuwrapper -->


<div class="entry-header">
  
  
    <div class="entry-image">
      <img src="/images/abstract-1.jpg" alt=" - page 3">
    </div><!-- /.entry-image -->
  
  <div class="header-title">
    <div class="header-title-wrap">
      <h1>Douglas J Hunley</h1>
      <h2> - page 3</h2>
    </div><!-- /.header-title-wrap -->
  </div><!-- /.header-title -->
</div><!-- /.entry-header -->

<div id="main" role="main">
  
  <ARTICLE class="hentry">
    <HEADER>
      
        <DIV class="entry-image-index">
          <A href="/posts/Mi-Box/" title="Mi Box"><IMG src="/images/review.jpg" alt="Mi Box" /></A>
        </DIV><!-- /.entry-image -->
      
      <DIV class="entry-meta">
        <SPAN class="entry-date date published updated">
          <TIME datetime="2016-11-02T06:27:55-04:00" />
            <A href="/posts/Mi-Box/">November 02, 2016</A>
          </TIME>
        </SPAN>
        <SPAN class="author vcard">
          <SPAN class="fn">
            <A href="/about/" title="About Douglas J Hunley">Douglas J Hunley</A>
          </SPAN>
        </SPAN>
        
          <SPAN class="entry-reading-time">
            <I class="fa fa-clock-o"></i>
            
Reading time ~1 minute
          </SPAN><!-- /.entry-reading-time -->
        
      </DIV><!-- /.entry-meta -->
      
        <H1 class="entry-title">
          <A href="/posts/Mi-Box/" rel="bookmark" title="Mi Box" itemprop="url">Mi Box</A>
        </H1>
      
    </HEADER>
    <DIV class="entry-content">
      <p><img src="https://i5.walmartimages.com/asr/a45c44b3-a6fc-465e-8231-16f42efc6347_1.474cf868352361552e656c2cfec1f962.jpeg" class="lleader" />I’m a fan of Android TV. While I didn’t blog about it, I ran out and bought a Nexus Player on day 1. And I loved it! OK, I loved it <em>more</em> after the upgrade to Android 6.x, but still.</p>

<p>Well, now I’ve upgraded from the Nexus Player to the Mi Box. It’s a bit of a risk, since no one knows the upgrade history for Xiaomi, but I’m OK with that. Especially at a mere $70 for this thing. As much as I loved the Player, I am enjoying this device <em>so much more</em>. It’s stupid fast, the remote is so much better, and I feel like I get a better picture out of it (which is silly, I don’t have a 4k TV so it should be the same 1080p HD picture I got from the Player).</p>

<p>This tiny little box (101 x 101 x 19.5mm) comes with an Amlogic Quad-core Cortex-A53 processor running at 2.0GHz, a Mali 450 GPU running at 750MHz, 2GB of ram, and 8GB of storage. On the back is an HDMI port, a headphone jack (why?), a power adaptor port (sadly, not a standard USB-C or MicroUSB), a single USB 2.0 port. It’s pretty sparse port wise, but really that’s all you need. There’s a subtly white LED on the very front of the device to show you that it’s powered on too. Otherwise, it’s just a sleek little black hockey puck sitting in my entertainment center.</p>

<p>Overall, I’m so pleased with this little thing that I convinced Stephanie to buy one, gave my Player to Tina, and I’m considering buying one of these for Emily when she moves out.</p>

<p>Review: ★★★★☆</p>

    </DIV><!-- /.entry-content -->
  </ARTICLE><!-- /.hentry -->

  <ARTICLE class="hentry">
    <HEADER>
      
        <DIV class="entry-image-index">
          <A href="/posts/Announcing-pgCMH/" title="Announcing pgCMH"><IMG src="/images/meetup.jpg" alt="Announcing pgCMH" /></A>
        </DIV><!-- /.entry-image -->
      
      <DIV class="entry-meta">
        <SPAN class="entry-date date published updated">
          <TIME datetime="2016-10-31T07:35:22-04:00" />
            <A href="/posts/Announcing-pgCMH/">October 31, 2016</A>
          </TIME>
        </SPAN>
        <SPAN class="author vcard">
          <SPAN class="fn">
            <A href="/about/" title="About Douglas J Hunley">Douglas J Hunley</A>
          </SPAN>
        </SPAN>
        
          <SPAN class="entry-reading-time">
            <I class="fa fa-clock-o"></i>
            
Reading time ~1 minute
          </SPAN><!-- /.entry-reading-time -->
        
      </DIV><!-- /.entry-meta -->
      
        <H1 class="entry-title">
          <A href="/posts/Announcing-pgCMH/" rel="bookmark" title="Announcing pgCMH" itemprop="url">Announcing pgCMH</A>
        </H1>
      
    </HEADER>
    <DIV class="entry-content">
      <p><img src="/images/pgCMH.png" class="rleader" />I’ve been kicking around the idea of founding a Columbus-based PostgreSQL User Group for a while now. I even went so far as to float the idea to people at <a href="http://www.ohiolinux.org">OLF</a> in ‘14. After much hemming and hawing (and no one else stepping up in the interim), I’ve finally gone and done it.</p>

<p>pgCMH is the name of my newly formed group, and we’re good to go. We’ve got our own Twitter (<a href="http://www.twitter.com/pgCMH">@pgCMH</a>):</p>

<div class="jekyll-twitter-plugin"><blockquote class="twitter-tweet"><p lang="en" dir="ltr"><a href="https://twitter.com/hashtag/PostgreSQL?src=hash">#PostgreSQL</a> 9.6.1, 9.5.5, 9.4.10, 9.3.15, 9.2.19 and 9.1.24 Released! <a href="https://t.co/RH27To33gh">https://t.co/RH27To33gh</a></p>&mdash; pgCMH (@pgCMH) <a href="https://twitter.com/pgCMH/status/791654418731065344">October 27, 2016</a></blockquote>
<script async="" src="//platform.twitter.com/widgets.js" charset="utf-8"></script></div>

<p>as well as our own <a href="http://www.meetup.com/postgresCMH">MeetUp</a> page. We’ve got a sponsor providing food, and another providing the meeting location. Our first meeting will be in Jan, thanks to all the scheduling conflicts the upcoming holidays create.</p>

<p>Watch this space for updates, follow our Twitter, and join the mailing list on MeetUp. I’d love to get your participation and input. Let’s make this group as wildly successful as we can!</p>

    </DIV><!-- /.entry-content -->
  </ARTICLE><!-- /.hentry -->

  <ARTICLE class="hentry">
    <HEADER>
      
        <DIV class="entry-image-index">
          <A href="/posts/Incremental-pgBadger/" title="Incremental pgBadger"><IMG src="/images/db.jpg" alt="Incremental pgBadger" /></A>
        </DIV><!-- /.entry-image -->
      
      <DIV class="entry-meta">
        <SPAN class="entry-date date published updated">
          <TIME datetime="2016-10-26T10:46:09-04:00" />
            <A href="/posts/Incremental-pgBadger/">October 26, 2016</A>
          </TIME>
        </SPAN>
        <SPAN class="author vcard">
          <SPAN class="fn">
            <A href="/about/" title="About Douglas J Hunley">Douglas J Hunley</A>
          </SPAN>
        </SPAN>
        
          <SPAN class="entry-reading-time">
            <I class="fa fa-clock-o"></i>
            
Reading time ~3 minutes
          </SPAN><!-- /.entry-reading-time -->
        
      </DIV><!-- /.entry-meta -->
      
        <H1 class="entry-title">
          <A href="/posts/Incremental-pgBadger/" rel="bookmark" title="Incremental pgBadger" itemprop="url">Incremental pgBadger</A>
        </H1>
      
    </HEADER>
    <DIV class="entry-content">
      <p><img src="https://dalibo.github.io/pgbadger/logo_pgbadger.png" class="lleader" /> You’re probably already running <a href="https://dalibo.github.io/pgbadger/index.html">pgBadger</a> to monitor your PostgreSQL logs. However, you’re probably <em>not</em> running it incrementally throughout the day. Most likely, you’ve setup a <code class="highlighter-rouge">cron.daily</code> job that runs pgBadger against yesterday’s log(s). And that’s great. Except when you get the dreaded “what just happened on the db?” email. Are you going to wait until tonight’s normal run of pgBadger to see what happened? Are you going to run a ‘one off’ pgBadger against today’s logfile and wait for it to process the <em>entire</em> log? Or are you going to copy the log off somewhere, edit it to cut it down, and <em>then</em> run pgBadger against this cut-down version (hoping you left enough in the log to see proper trending)?</p>

<p>No, most likely you’re going to look at your actual monitoring tool that does real-time monitoring of your db and try to figure things out from there. You <em>are</em> running some kind of db monitoring tool, right?</p>

<p>However, let’s say that for, uh, reasons, you only have pgBadger at your disposal <em>right this instant</em>. Well, if you were making use of pgBadger’s <em>incremental mode</em> you could simply fire off the next scheduled run and it would only process those log entries that were new since the last run. So, for example, if you had a <code class="highlighter-rouge">cron.hourly</code> run of pgBadger it would only process the last hour’s worth of entries to update today’s report. No waiting to process multiple hours of info that you don’t need, no editing of the logfile to remove things outside the window you care about, just run it and done.</p>

<p>Sounds nice, right? So let’s set this up shall we? I’m assuming you’ve already setup <code class="highlighter-rouge">postgresql.conf</code> appropriately, but if you haven’t please go that first. The pgBadger website has good documentation on how to do so. According to the docs:</p>

<div class="language-apache highlighter-rouge"><pre class="highlight"><code><span class="err">-</span>I | --incremental     : use incremental mode, reports will be generated by days in a separate directory, --outdir must be set.
</code></pre>
</div>

<p>is how we turn on incremental mode. You’ll note that we also need to specify an output dir:</p>

<div class="language-apache highlighter-rouge"><pre class="highlight"><code><span class="err">-</span>O | --outdir path     : directory where out file must be saved
</code></pre>
</div>

<p>I usually stick the pgBadger output into the <code class="highlighter-rouge">pg_log</code> directory. In my mind, having the logs and the report on the logs next to each makes sense, but feel free to stick yours wherever.</p>

<p>Finally, we probably don’t need pgBadger reports that are too old, and the docs say we can cull the cruft automatically:</p>

<div class="language-apache highlighter-rouge"><pre class="highlight"><code><span class="err">-</span>R | --retention N     : number of week to keep in incremental mode. Default to 0, disabled. Used to <span class="ss">set</span> the number of weel to keep in output directory. Older weeks and days directory are automatically removed.
</code></pre>
</div>

<p>(Ignore the typo, it’s that way in the code)</p>

<p>On my servers, I have PostgreSQL setup to log into a different file for each day of the week, with automatic rotation and truncation:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>log_filename = 'postgresql-%a.log'
log_truncate_on_rotation = on
log_rotation_age = 1d
</code></pre>
</div>

<p>so my <code class="highlighter-rouge">cron.hourly</code> pgBadger looks like:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>pgbadger \
    -I \
    -O $PGDATA/pg_log \
    -R 12 \
    -q \
    $PGDATA/pg_log/postgresql-$(date --date yesterday +%a) \
    $PGDATA/pg_log/postgresql-$(date +%a)
</code></pre>
</div>

<p>which as you can see always feeds both yesterday’s and today’s log into pgBadger (since the cron runs at 2300 and then again at 0000, we need yesterday’s log to catch that last hour). Since we’re running in incremental mode, it knows <em>at every run</em> where it left off in the files the last time and does a <code class="highlighter-rouge">seek</code> to skip over that data. This cuts the run time down <em>significantly</em> even with the PostgreSQL logging <em>cranked up</em>. You can see it here:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>...
DEBUG: Starting reading file postgresql-Wed.log...
DEBUG: Start parsing at offset 412677131 of file postgresql-Wed.log to 433543395
[======================&gt;  ] Parsed 413815537 bytes of 433543395 (95.45%), queries
...
</code></pre>
</div>

<p>As you can see, it jumps right in at 95% of the file and only processes the newest 5%. In fact, this takes a mere 20 seconds:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>statistics gathering took:20 wallclock secs (19.44 usr +  0.17 sys = 19.61 CPU)
</code></pre>
</div>

<p>on my overloaded Macbook!</p>

<p>So there you have it. Not counting the time it takes you to <code class="highlighter-rouge">ssh</code> to your server, it would have taken all of <em>20 seconds</em> to have an updated report of what just happened on your database!</p>

<p>Keep in mind, this is also with a <em>single thread</em>. pgBadger has the ability to run multi-threaded. See the <code class="highlighter-rouge">--help</code> for details.</p>

<p>Enjoy!</p>

    </DIV><!-- /.entry-content -->
  </ARTICLE><!-- /.hentry -->

  <ARTICLE class="hentry">
    <HEADER>
      
        <DIV class="entry-image-index">
          <A href="/posts/Im-Syndicated/" title="I'm syndicated"><IMG src="/images/db.jpg" alt="I'm syndicated" /></A>
        </DIV><!-- /.entry-image -->
      
      <DIV class="entry-meta">
        <SPAN class="entry-date date published updated">
          <TIME datetime="2016-10-08T11:19:57-04:00" />
            <A href="/posts/Im-Syndicated/">October 08, 2016</A>
          </TIME>
        </SPAN>
        <SPAN class="author vcard">
          <SPAN class="fn">
            <A href="/about/" title="About Douglas J Hunley">Douglas J Hunley</A>
          </SPAN>
        </SPAN>
        
          <SPAN class="entry-reading-time">
            <I class="fa fa-clock-o"></i>
            
Reading time ~1 minute
          </SPAN><!-- /.entry-reading-time -->
        
      </DIV><!-- /.entry-meta -->
      
        <H1 class="entry-title">
          <A href="/posts/Im-Syndicated/" rel="bookmark" title="I'm syndicated" itemprop="url">I'm syndicated</A>
        </H1>
      
    </HEADER>
    <DIV class="entry-content">
      <p>Someone at work thought it would be a good idea to give me access to the corporate blog so that I might <a href="http://www.openscg.com/category/postgresql-blogs/doug-postgresql/">post</a> PostgreSQL-related things there and have them syndicted to <a href="http://planet.postgresql.org/">Planet PostgreSQL</a>. So my PostgreSQL ramblings will show up there now instead of here. This should be fun!</p>

    </DIV><!-- /.entry-content -->
  </ARTICLE><!-- /.hentry -->

  <ARTICLE class="hentry">
    <HEADER>
      
        <DIV class="entry-image-index">
          <A href="/posts/Linka/" title="Linka"><IMG src="/images/general.png" alt="Linka" /></A>
        </DIV><!-- /.entry-image -->
      
      <DIV class="entry-meta">
        <SPAN class="entry-date date published updated">
          <TIME datetime="2016-10-03T09:30:58-04:00" />
            <A href="/posts/Linka/">October 03, 2016</A>
          </TIME>
        </SPAN>
        <SPAN class="author vcard">
          <SPAN class="fn">
            <A href="/about/" title="About Douglas J Hunley">Douglas J Hunley</A>
          </SPAN>
        </SPAN>
        
          <SPAN class="entry-reading-time">
            <I class="fa fa-clock-o"></i>
            
Reading time ~1 minute
          </SPAN><!-- /.entry-reading-time -->
        
      </DIV><!-- /.entry-meta -->
      
        <H1 class="entry-title">
          <A href="/posts/Linka/" rel="bookmark" title="Linka" itemprop="url">Linka</A>
        </H1>
      
    </HEADER>
    <DIV class="entry-content">
      <p><img src="https://static1.squarespace.com/static/5527df31e4b022b79f2009ba/56d0e2c622482e09ee7d6032/56d0e2cca3360cb25587ca98/1456530250502/LifeStle_Silver_sm.jpg?format=500w" class="rleader" />My <a href="http://www.linkalock.com">Linka</a> smart bike lock from Kickstarter showed up today. Holy Hell is this thing solid and hefty! Like for reals, this is gonna throw the balance of the bike off :)</p>

<p>I know what you’re thinking. A <em>smart</em> bike lock? Why? Yeah, I know. However, even without the smart gimmicks, this is a nice self-contained bike lock. It mounts directly to the frame, is hella hefty and thick (1.6 pounds), has a built in ‘someone is fucking with me’ alarm (that is quite ear piercing), it’s made of through-hardened steel, has a square cross-section, and it doesn’t stick out like a sore thumb when mounted.</p>

<p>Anyway, I’ll edit this post later with thoughts after use.</p>

    </DIV><!-- /.entry-content -->
  </ARTICLE><!-- /.hentry -->



<div class="pagination">
  <ul class="inline-list">
    
    
      
        <li><a href="/pages/2/" class="btn">Previous</a></li>
      
    

    
    
      <li><a href="">1</a></li>
    

    
    

    
    
    

    
      
        
        
        
        <li><a href="/pages/2/">2</a></li>
      
    
      
        <li><strong class="current-page">3</strong></li>
      
    
      
        
        
        
        <li><a href="/pages/4/">4</a></li>
      
    
      
        
        
        
        <li><a href="/pages/5/">5</a></li>
      
    
      
        
        
        
        <li><a href="/pages/6/">6</a></li>
      
    

    
    
      <li>…</li>
    

    
      <li><a href="/pages/7/">7</a></li>
    

    
    
      <li><a href="/pages/4/" class="btn">Next</a></li>
    
  </ul>
</div>



</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2017 Douglas J Hunley.<BR /><FONT size=-1>Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a>. Served via <a href="https://github.com">GitHub</a>. Themed using <a href="https://mademistakes.com/work/hpstr-jekyll-theme/" rel="nofollow">HPSTR</a>.</FONT></span>

  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/assets/js/scripts.min.js"></script>



          

</body>
</html>