<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Doug's Dabblings &middot; Quick thoughts on stuff I'm playing with
    
  </title>

  
  <link rel="canonical" href="/page18/">
  

  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">

  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">

  
  <!-- font awesome -->
  <script src="https://kit.fontawesome.com/89f4c31870.js" crossorigin="anonymous"></script>
</head>


  <body class="theme-base-0d">

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>A collection of thoughts on things in my life that I'm experiencing, playing with, or suffering through. Mostly tech related, but sometimes not.</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item active" href="/">Home</a>

    

    
    
      
        
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/about/">About</a>
        
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    

    <a class="sidebar-nav-item " href="/posts/">All Posts</a>
    <a class="sidebar-nav-item " href="/tags/">All Tags</a>
  </nav>

  <div class="sidebar-item">
      <a href="https://www.deviantart.com/dhunley"><i class="fab fa-deviantart"></i></a>
    <a href="mailto:%64%6F%75%67.%68%75%6E%6C%65%79@%67%6D%61%69%6C.%63%6F%6D"><i class="fas fa-envelope"></i></a>
      <a href="https://github.com/hunleyd"><i class="fab fa-github"></i></a>
      <a href="https://instagram.com/doughunley"><i class="fab fa-instagram-square"></i></a>
      <a href="https://last.fm/user/hunleyd"><i class="fab fa-lastfm-square"></i></a>
      <a href="https://www.linkedin.com/in/dhunley"><i class="fab fa-linkedin"></i></a>
      <a href="https://www.meetup.com/members/43608152/"><i class="fab fa-meetup"></i></a>
      <a href="https://reddit.com/u/hunleyd"><i class="fab fa-reddit-square"></i></a>
      <a href="https://https://open.spotify.com/user/z0emrjhe6h1bieo81fkrmdbqq"><i class="fab fa-spotify"></i></a>
      <a href="https://twitter.com/hunleyd"><i class="fab fa-twitter-square"></i></a>
      <a href="https://youtube.com/c/DouglasHunley"><i class="fab fa-youtube"></i></a>
    <p></p>
    <p>
      <a href="/atom.xml"><i class="fas fa-rss-square"></i></a>
    </p>
    <p></p>
    <p>
      &copy; 2021. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Doug's Dabblings</a>
            <small>Quick thoughts on stuff I'm playing with</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2017/06/14/Installing-pgBackRest-on-OSX/">
        Installing pgBackRest on OSX
      </a>
    </h1>

    <span class="post-date">14 Jun 2017</span>

    <p>If you’ve followed my previous posts (<a href="https://hunleyd.github.io/posts/PostgreSQL-Homebrew-and-You/">here</a> and <a href="https://hunleyd.github.io/posts/Getting-fancy-with-PostgreSQL-and-Homebrew/">here</a>), then you already have one or more versions of PostgreSQL installed on your Mac. Maybe these are solely for test or dev purposes and you don’t really care about any of the data therein, but if you do, let me guide you to <a href="http://www.pgbackrest.org/">pgBackRest</a>.</p>

<blockquote>
  <p>pgBackRest aims to be a simple, reliable backup and restore system that can seamlessly scale up to the largest databases and workloads.</p>
</blockquote>

<blockquote>
  <p>Instead of relying on traditional backup tools like tar and rsync, pgBackRest implements all backup features internally and uses a custom protocol for communicating with remote systems. Removing reliance on tar and rsync allows for better solutions to database-specific backup challenges. The custom remote protocol allows for more flexibility and limits the types of connections that are required to perform a backup which increases security.</p>
</blockquote>

<p>pgBackRest is written in Perl, but don’t hold that against it. As of the 1.19 release, pgBackRest can now use S3 buckets as the storage backend. I <em>really</em> like pgBackRest and tend to use it for myself and customers over any of the other tools in the PostgreSQL ecosphere. So, let’s get started by downloading the latest release from their site, and then installing it. For some reason, no one has added pgBackRest to Homebrew yet (someone, pls!) so let’s do it the manual way:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>wget <span class="nt">-o</span> Downloads/pgbackrest-release-1.19.tar.gz https://github.com/pgbackrest/pgbackrest/archive/release/1.19.tar.gz
<span class="nv">$ </span><span class="nb">tar </span>xvf Downloads/pgbackrest-release-1.19.tar.gz
<span class="nv">$ </span><span class="nb">cd </span>pgbackrest-release-1.19
<span class="nv">$ </span><span class="nb">sudo cp</span> <span class="nt">-r</span> lib/pgBackRest /Library/Perl/5.18
<span class="nv">$ </span><span class="nb">sudo </span>find /Library/Perl/5.18/pgBackRest <span class="nt">-type</span> f <span class="nt">-exec</span> <span class="nb">chmod </span>644 <span class="o">{}</span> +
<span class="nv">$ </span><span class="nb">sudo </span>find /Library/Perl/5.18/pgBackRest <span class="nt">-type</span> d <span class="nt">-exec</span> <span class="nb">chmod </span>755 <span class="o">{}</span> +
<span class="nv">$ </span><span class="nb">sudo mv </span>bin/pgbackrest /usr/local/bin
<span class="nv">$ </span><span class="nb">sudo chmod </span>755 /usr/local/bin/pgbackrest
<span class="nv">$ </span><span class="nb">sudo mkdir</span> <span class="nt">-m</span> 770 /var/log/pgbackrest
<span class="nv">$ </span><span class="nb">sudo mkdir</span> <span class="nt">-m</span> 770 /var/spool/pgbackrest
<span class="nv">$ </span><span class="nb">sudo chown </span>doug /var/<span class="o">{</span>log,spool<span class="o">}</span>/pgbackrest
</code></pre></div></div>

<p>(Keep in mind that I already had Perl setup to connect to PostgreSQL for other uses. You might need to install <code class="language-plaintext highlighter-rouge">DBD::Pg</code>.)</p>

<p>Now that pgBackRest is installed, let’s configure it. First, we’ll want to set some of the global properties that affect all pgBackRest operations:</p>

<div class="language-conf highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[<span class="n">global</span>]
<span class="n">log</span>-<span class="n">level</span>-<span class="n">console</span>=<span class="n">info</span>
<span class="n">repo</span>-<span class="n">s3</span>-<span class="n">bucket</span>=<span class="n">hunleyd</span>-<span class="n">pgbackrest</span>
<span class="n">repo</span>-<span class="n">s3</span>-<span class="n">endpoint</span>=<span class="n">s3</span>.<span class="n">amazonaws</span>.<span class="n">com</span>
<span class="n">repo</span>-<span class="n">s3</span>-<span class="n">key</span>=<span class="n">XX</span>
<span class="n">repo</span>-<span class="n">s3</span>-<span class="n">key</span>-<span class="n">secret</span>=<span class="n">XXX</span>
<span class="n">repo</span>-<span class="n">s3</span>-<span class="n">region</span>=<span class="n">us</span>-<span class="n">east</span>-<span class="m">2</span>
<span class="n">repo</span>-<span class="n">type</span>=<span class="n">s3</span>
<span class="n">retention</span>-<span class="n">full</span>=<span class="m">2</span>
<span class="n">start</span>-<span class="n">fast</span>=<span class="n">y</span>
</code></pre></div></div>

<p>As you can see, we set the following:</p>

<ul>
  <li>force the log level for all console output to ‘info’</li>
  <li>define the S3 bucket we want to use</li>
  <li>define the S3 endpoint to connect to</li>
  <li>define our S3 key</li>
  <li>define our S3 secret key</li>
  <li>set which region our bucket is in</li>
  <li>tell pgBackRest that we’re using S3 as the backend</li>
  <li>configure retention of full backups</li>
  <li>tell pgBackRest to issue a CHECKPOINT so backups can start right away instead of waiting for the next regular checkpoint</li>
</ul>

<p>Now, we need to tell pgBackRest which instance of PostgreSQL we want to backup and where to find it. Again, if you used my previous posts to install multiple versions via Homebrew, this should look familiar:</p>

<div class="language-conf highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[<span class="m">96</span>]
<span class="n">db</span>-<span class="n">path</span>=/<span class="n">usr</span>/<span class="n">local</span>/<span class="n">var</span>/<span class="n">postgres</span>/<span class="m">9</span>.<span class="m">6</span>
<span class="n">db</span>-<span class="n">port</span>=<span class="m">5496</span>
<span class="n">repo</span>-<span class="n">path</span>=/<span class="m">96</span>

[<span class="m">95</span>]
<span class="n">db</span>-<span class="n">path</span>=/<span class="n">usr</span>/<span class="n">local</span>/<span class="n">var</span>/<span class="n">postgres</span>/<span class="m">9</span>.<span class="m">5</span>
<span class="n">db</span>-<span class="n">port</span>=<span class="m">5495</span>
<span class="n">repo</span>-<span class="n">path</span>=/<span class="m">95</span>

[<span class="m">94</span>]
<span class="n">db</span>-<span class="n">path</span>=/<span class="n">usr</span>/<span class="n">local</span>/<span class="n">var</span>/<span class="n">postgres</span>/<span class="m">9</span>.<span class="m">4</span>
<span class="n">db</span>-<span class="n">port</span>=<span class="m">5494</span>
<span class="n">repo</span>-<span class="n">path</span>=/<span class="m">94</span>

[<span class="m">93</span>]
<span class="n">db</span>-<span class="n">path</span>=/<span class="n">usr</span>/<span class="n">local</span>/<span class="n">var</span>/<span class="n">postgres</span>/<span class="m">9</span>.<span class="m">3</span>
<span class="n">db</span>-<span class="n">port</span>=<span class="m">5493</span>
<span class="n">repo</span>-<span class="n">path</span>=/<span class="m">93</span>

[<span class="m">92</span>]
<span class="n">db</span>-<span class="n">path</span>=/<span class="n">usr</span>/<span class="n">local</span>/<span class="n">var</span>/<span class="n">postgres</span>/<span class="m">9</span>.<span class="m">2</span>
<span class="n">db</span>-<span class="n">port</span>=<span class="m">5492</span>
<span class="n">repo</span>-<span class="n">path</span>=/<span class="m">92</span>

[<span class="m">91</span>]
<span class="n">db</span>-<span class="n">path</span>=/<span class="n">usr</span>/<span class="n">local</span>/<span class="n">var</span>/<span class="n">postgres</span>/<span class="m">9</span>.<span class="m">1</span>
<span class="n">db</span>-<span class="n">port</span>=<span class="m">5491</span>
<span class="n">repo</span>-<span class="n">path</span>=/<span class="m">91</span>

[<span class="m">90</span>]
<span class="n">db</span>-<span class="n">path</span>=/<span class="n">usr</span>/<span class="n">local</span>/<span class="n">var</span>/<span class="n">postgres</span>/<span class="m">9</span>.<span class="m">0</span>
<span class="n">db</span>-<span class="n">port</span>=<span class="m">5490</span>
<span class="n">repo</span>-<span class="n">path</span>=/<span class="m">90</span>
</code></pre></div></div>

<p>You can see for each pg cluster, we define:</p>

<ul>
  <li>the path to the <code class="language-plaintext highlighter-rouge">$PGDATA</code> directory</li>
  <li>the port the cluster listens on</li>
  <li>and the path we want to store the backups in on our backend</li>
</ul>

<p>When you put this all together, we’ll be connecting to an S3 bucket called, creatively enough, <code class="language-plaintext highlighter-rouge">hunleyd-pgbackrest</code> and then we will create a top-level directory (‘96’, ‘95’, etc) to store each cluster’s backups in.</p>

<p>Now that we’ve got our configuration complete, let’s do an initial backup of one of the clusters. First, we have to create the appropriate directories and metadata on the backend:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>pgbackrest <span class="nt">--stanza</span><span class="o">=</span>92 <span class="nt">--config</span> <span class="nv">$HOME</span>/.config/pgbackrest/pgbackrest.conf stanza-create
2017-06-14 14:03:46.643 P00   INFO: stanza-create <span class="nb">command </span>begin 1.19: <span class="nt">--config</span><span class="o">=</span>/Users/doug/.config/pgbackrest/pgbackrest.conf <span class="nt">--db-path</span><span class="o">=</span>/usr/local/var/postgres/9.2 <span class="nt">--db-port</span><span class="o">=</span>5492 <span class="nt">--log-level-console</span><span class="o">=</span>info <span class="nt">--repo-path</span><span class="o">=</span>/92 <span class="nt">--repo-s3-bucket</span><span class="o">=</span>hunleyd-pgbackrest <span class="nt">--repo-s3-endpoint</span><span class="o">=</span>s3.amazonaws.com <span class="nt">--repo-s3-region</span><span class="o">=</span>us-east-2 <span class="nt">--repo-type</span><span class="o">=</span>s3 <span class="nt">--stanza</span><span class="o">=</span>92
2017-06-14 14:03:57.971 P00   INFO: stanza-create <span class="nb">command </span>end: completed successfully
</code></pre></div></div>

<p>Then, we have pgBackRest verify that everything is properly setup. Note that this includes checking to ensure you tweaked <code class="language-plaintext highlighter-rouge">postgresql.conf</code> according to the directions on their site (I’m not going to repeat them here):</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>pgbackrest <span class="nt">--stanza</span><span class="o">=</span>92 <span class="nt">--config</span> <span class="nv">$HOME</span>/.config/pgbackrest/pgbackrest.conf check
2017-06-14 14:04:17.991 P00   INFO: check <span class="nb">command </span>begin 1.19: <span class="nt">--config</span><span class="o">=</span>/Users/doug/.config/pgbackrest/pgbackrest.conf <span class="nt">--db-path</span><span class="o">=</span>/usr/local/var/postgres/9.2 <span class="nt">--db-port</span><span class="o">=</span>5492 <span class="nt">--log-level-console</span><span class="o">=</span>info <span class="nt">--repo-path</span><span class="o">=</span>/92 <span class="nt">--repo-s3-bucket</span><span class="o">=</span>hunleyd-pgbackrest <span class="nt">--repo-s3-endpoint</span><span class="o">=</span>s3.amazonaws.com <span class="nt">--repo-s3-region</span><span class="o">=</span>us-east-2 <span class="nt">--repo-type</span><span class="o">=</span>s3 <span class="nt">--stanza</span><span class="o">=</span>92
2017-06-14 14:04:32.576 P00   INFO: WAL segment 000000010000000000000067 successfully stored <span class="k">in </span>the archive at <span class="s1">'/92/archive/92/9.2-1/0000000100000000/000000010000000000000067-24adde40a35b1f3ed17f545153f0e01c44b0ada5.gz'</span>
2017-06-14 14:04:32.576 P00   INFO: check <span class="nb">command </span>end: completed successfully
</code></pre></div></div>

<p>And since that all worked, we can take our first actual backup:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>pgbackrest <span class="nt">--stanza</span><span class="o">=</span>92 <span class="nt">--config</span> <span class="nv">$HOME</span>/.config/pgbackrest/pgbackrest.conf backup
2017-06-14 14:10:44.378 P00   INFO: backup <span class="nb">command </span>begin 1.19: <span class="nt">--config</span><span class="o">=</span>/Users/doug/.config/pgbackrest/pgbackrest.conf <span class="nt">--db-path</span><span class="o">=</span>/usr/local/var/postgres/9.2 <span class="nt">--db-port</span><span class="o">=</span>5492 <span class="nt">--log-level-console</span><span class="o">=</span>info <span class="nt">--repo-path</span><span class="o">=</span>/92 <span class="nt">--repo-s3-bucket</span><span class="o">=</span>hunleyd-pgbackrest <span class="nt">--repo-s3-endpoint</span><span class="o">=</span>s3.amazonaws.com <span class="nt">--repo-s3-region</span><span class="o">=</span>us-east-2 <span class="nt">--repo-type</span><span class="o">=</span>s3 <span class="nt">--retention-full</span><span class="o">=</span>2 <span class="nt">--stanza</span><span class="o">=</span>92 <span class="nt">--start-fast</span>
WARN: no prior backup exists, incr backup has been changed to full
2017-06-14 14:10:49.435 P00   INFO: execute exclusive pg_start_backup<span class="o">()</span> with label <span class="s2">"pgBackRest backup started at 2017-06-14 14:10:45"</span>: backup begins after the requested immediate checkpoint completes
2017-06-14 14:10:49.846 P00   INFO: backup start archive <span class="o">=</span> 000000010000000000000068, lsn <span class="o">=</span> 0/68000020
2017-06-14 14:10:57.090 P01   INFO: backup file /usr/local/var/postgres/9.2/pg_log/2017/week-16/index.html <span class="o">(</span>1.3MB, 3%<span class="o">)</span> checksum dcc73afe15f48863eb019b9cfbb1e24cbd2a4d7f
&lt;snip&gt;
2017-06-14 14:24:23.277 P01   INFO: backup file /usr/local/var/postgres/9.2/base/1/12040 <span class="o">(</span>0B, 100%<span class="o">)</span>
2017-06-14 14:24:23.964 P01   INFO: backup file /usr/local/var/postgres/9.2/base/1/12031 <span class="o">(</span>0B, 100%<span class="o">)</span>
2017-06-14 14:24:24.747 P01   INFO: backup file /usr/local/var/postgres/9.2/base/1/12021 <span class="o">(</span>0B, 100%<span class="o">)</span>
2017-06-14 14:24:24.778 P00   INFO: full backup size <span class="o">=</span> 38.1MB
2017-06-14 14:24:24.778 P00   INFO: execute exclusive pg_stop_backup<span class="o">()</span> and <span class="nb">wait </span><span class="k">for </span>all WAL segments to archive
2017-06-14 14:24:41.428 P00   INFO: backup stop archive <span class="o">=</span> 000000010000000000000068, lsn <span class="o">=</span> 0/68000178
2017-06-14 14:24:45.320 P00   INFO: new backup label <span class="o">=</span> 20170614-141045F
2017-06-14 14:24:47.844 P00   INFO: backup <span class="nb">command </span>end: completed successfully
2017-06-14 14:24:47.920 P00   INFO: expire <span class="nb">command </span>begin 1.19: <span class="nt">--config</span><span class="o">=</span>/Users/doug/.config/pgbackrest/pgbackrest.conf <span class="nt">--log-level-console</span><span class="o">=</span>info <span class="nt">--repo-path</span><span class="o">=</span>/92 <span class="nt">--repo-s3-bucket</span><span class="o">=</span>hunleyd-pgbackrest <span class="nt">--repo-s3-endpoint</span><span class="o">=</span>s3.amazonaws.com <span class="nt">--repo-s3-region</span><span class="o">=</span>us-east-2 <span class="nt">--repo-type</span><span class="o">=</span>s3 <span class="nt">--retention-archive</span><span class="o">=</span>2 <span class="nt">--retention-full</span><span class="o">=</span>2 <span class="nt">--stanza</span><span class="o">=</span>92
2017-06-14 14:24:50.496 P00   INFO: full backup total &lt; 2 - using oldest full backup <span class="k">for </span>9.2-1 archive retention
2017-06-14 14:24:51.796 P00   INFO: expire <span class="nb">command </span>end: completed successfully
</code></pre></div></div>

<p>Neat!</p>

<p>Now, let’s check our S3 bucket, shall we?</p>

<p><img src="/images/posts/s3_1.png" alt="s3_1" /></p>

<p>You can see here the top-level contents of my <code class="language-plaintext highlighter-rouge">hunleyd-pgbackrest</code> bucket. As stated before, each cluster gets its own sub-dir. Since we just backed up the ‘92’ cluster, let’s look inside it’s dir.</p>

<p><img src="/images/posts/s3_2.png" alt="s3_2" /></p>

<p>You can see that pgBackRest has created as directory for the WALs to be stored in whenever <code class="language-plaintext highlighter-rouge">archive_command</code> fires and another directory for the actual cluster backups. Peeking into the <code class="language-plaintext highlighter-rouge">archive</code> dir, we see:</p>

<p><img src="/images/posts/s3_3.png" alt="s3_3" /></p>

<p>This shows us some metadata, and shows that pgBackRest creates a directory for each timeline of the cluster. Since we are on timeline 1 in our 92 cluster, we have a <code class="language-plaintext highlighter-rouge">9.2-1</code> directory inside of which, we find:</p>

<p><img src="/images/posts/s3_4.png" alt="s3_4" /></p>

<p>Our archived WALs have been compressed and uploaded. Hurray!</p>

<p>Now, let’s check inside the <code class="language-plaintext highlighter-rouge">backup</code> directory:</p>

<p><img src="/images/posts/s3_5.png" alt="s3_5" /></p>

<p>We can see some metadata, and we can see a folder named the same as the backup label that was used when we ran our full backup. Inside that folder, we can see:</p>

<p><img src="/images/posts/s3_6.png" alt="s3_6" /></p>

<p>Hey look, more metadata! And another folder! :) So, let’s dive into the <code class="language-plaintext highlighter-rouge">pg_data</code> folder where we see:</p>

<p><img src="/images/posts/s3_7.png" alt="s3_7" /></p>

<p>Holy crap! It’s a basebackup of our <code class="language-plaintext highlighter-rouge">$PGDATA</code> data directory. And all the files have been nicely compressed for us. Rock on, pgBackRest!</p>

<p>And just in case you wanted to see the current backup catalog:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>pgbackrest <span class="nt">--stanza</span><span class="o">=</span>92 <span class="nt">--config</span> <span class="nv">$HOME</span>/.config/pgbackrest/pgbackrest.conf info
stanza: 92
    status: ok
    wal archive min/max: 000000010000000000000068 / 000000010000000000000068

    full backup: 20170614-141045F
        timestamp start/stop: 2017-06-14 14:10:45 / 2017-06-14 14:24:43
        wal start/stop: 000000010000000000000068 / 000000010000000000000068
        database size: 38.1MB, backup size: 38.1MB
        repository size: 5.6MB, repository backup size: 5.6MB
</code></pre></div></div>

<p>(look at that compression!)</p>

  </div>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="/page19">Older</a>
  
  
    
      <a class="pagination-item newer" href="/page17">Newer</a>
    
  
</div>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script src='/public/js/script.js'></script>
  </body>
</html>
